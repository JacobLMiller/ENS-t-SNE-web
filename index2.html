<!DOCTYPE html >
<html >
  <head>
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>3D Scatter Plot</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://x3dom.org/release/x3dom.js"></script>
    <link rel="stylesheet" href="https://x3dom.org/release/x3dom.css" />
    <script src="https://raw.githack.com/jamesleesaunders/d3-x3d/master/dist/d3-x3d.js"></script>
    <script src="penguins_data.js"></script>
  </head>
  <body>
    <div id="chartholder"></div>

    <input type="button" id="refresh" value="Refresh"/>

    <script>
      // Select chartholder
      var chartHolder = d3.select("#chartholder");

      // Declare the chart component
      var myChart = d3.x3d.chart.scatterPlot()
        .mappings({ x: 'x', y: 'y', z: 'z', size: 'size', color: 'color' })
        .colors(d3.schemeRdYlGn[8])
        .sizeRange([0.1, 1.5]);

      var refreshChart = function() {
        // Generate some data
        var myData = d3.x3d.randomData.dataset6(200);
        console.log(myData)
        myData = {
          'key': "penguins",
          "values": null
        }

        chartHolder.datum(myData).call(myChart);
      };

      d3.select("#refresh").attr("onclick", "refreshChart()");

      refreshChart();
    </script>

    <br/>
    <div style="clear: both">Created with <a href="https://github.com/jamesleesaunders/d3-x3d">d3-x3d</a> D3 X3D Data
      Visualization Library.
    </div>
  </body>
</html>